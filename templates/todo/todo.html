{% extends "todo/base.html" %}

{% block todo_container %}



<main class="container">
    {# 상세 할일 내용 보여주기----------------#}
    {% if todo %}
        <article class="alert alert-info col-md-8 offset-md-2 mb-5">
            <h4>Todo ID: {{ todo.id }}</h4>
            <p><strong>Todo Item:</strong> {{ todo.item }}</p>
        </article>
    {% endif %}

    {# 상세 할일 입력 폼----------------#}
    <section class="col-md-8 offset-md-2">
        <form action="/todos" method="post">
            <div class="input-group mb-3">
                <input class="form-control" name="item" placeholder="Write a todo" type="text" required />
                <button class="btn btn-outline-primary" type="submit">Add Todo</button>
            </div>
        </form>
    </section>
    {# 상세 할일 목록 보여주기----------------#}
    <section class="container-fluid">
        <h2 align="center">Todos</h2>
        <br>
        <div class="col-md-8 offset-md-2">
            <ul class="list-group list-group-flush">
                {% for todo in todos %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <span>
                        {{ loop.index }}. <a href="/todos/{{ todo.id }}">{{ todo.item }}</a>
                    </span>
                    <span>
                        <!-- 수정: 연필 아이콘, 수정 폼 페이지로 이동 (예시: /todos/{{todo.id}}/edit) -->
                        <a href="/todos/{{ todo.id }}/edit" class="btn btn-sm btn-outline-secondary me-1" title="수정">
                            <i class="fas fa-edit"></i>
                        </a>
                        <!-- 삭제: 휴지통 아이콘, POST 폼으로 동기 삭제 -->
                        <form action="/todos/{{ todo.id }}/delete" method="post" style="display:inline;">
                            <button type="submit" class="btn btn-sm btn-outline-danger" title="삭제" onclick="return confirm('정말 삭제할까요?');">
                                <i class="fas fa-trash"></i>
                            </button>
                        </form>
                    </span>
                </li>
                {% endfor %}
            </ul>
        </div>
    </section>
</main>
{% endblock %}